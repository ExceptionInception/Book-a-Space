div(class="panel panel-default")
 div.panel-heading
    h1.panel-title Filter & Sort
  div.panel-body
    div.row
      div.col-sm-4
        label Sort By:
        select(class="form-control" ng-model="sortExpression")
          option(value="") Any
          option(value="amRate") AM Rate
          option(value="pmRate") PM Rate
      div.col-sm-4
        label Workspace Type:
        select(class="form-control" ng-model="query.type")
          option(value="") Any
          option(value="Cubicle") Cubicle
          option(value="Office") Office
          option(value="Conference Room") Conference room
      div.col-sm-4
        label Location:
        select(class="form-control" ng-model="query.building")
          option(value="") Any
          option(value="Forum Place") Forum Place
          option(value="Keystone") Keystone Building
          option(value="Finance") Finance Building




div(class="panel panel-default")
  div.panel-heading
    h1.panel-title Workspaces
  div.panel-body
    accordion(close-others="false")
      accordion-group(ng-repeat="workspace in workspaces | orderBy: sortExpression | filter: query" is-open="status.open")
        accordion-heading
          | {{workspace._id}}
          | <i class="pull-right glyphicon" 
          |   ng-class="{'glyphicon-chevron-down': status.open, 
          |   'glyphicon-chevron-right': !status.open}"></i>

        div.row
          div.col-sm-4
            p 
              | <u>Location</u>
              | <br>{{workspace.agency}}
              | <br>{{workspace.building}} Building
              | <br>{{workspace.floor}} floor
              | <br>{{workspace.room}}
          div.col-sm-4
            p
              | <u>Rates</u>
              | <br>AM Rate: {{workspace.amRate | currency}}
              | <br>PM Rate: {{workspace.pmRate | currency}}
          div.col-sm-4
            u Inventory
            ul(class="list-unstyled")
              li(ng-repeat="item in workspace.inventory") {{item}}

        div.row
          div(class="col-sm-2 col-sm-offset-10")
            p 
              button(ng-click="editWorkspace('lg', workspace)" type="button" class="btn btn-warning" id="spacedBtn") Edit
              button(ng-click="deleteWorkspace(workspace)" type="button" class="btn btn-danger" id="spacedBtn") Remove

              script(type="text/ng-template" id="partials/editWorkspace")
                div.modal-header
                  h3.modal-title Edit {{workspace._id}}
                    button(type="button" ng-click="cancel()" class="btn-lg close pull-right" aria-label="Close")
                      span(aria-hidden="false")&times;

                div.modal-body
                  form
                    div.row
                      div.col-sm-6
                        div.form-group
                          label(for="id") ID:
                          input(type="text" class="form-control" id="id" value="{{workspace._id}}" ng-model="id")

                      div.col-sm-6
                        div.form-group
                          label(for="type") Type:
                          select(id="type" class="form-control" ng-model="type")
                            option(value="" disabled selected) {{workspace.type}}
                            option(value="Cubicle") Cubicle
                            option(value="Conference Room") Conference Room
                            option(value="Office") Office


                    div.row
                      div.col-sm-6
                        div.form-group
                          label(for="agency") Agency:
                          input(type="text" class="form-control" ng-model="agency" id="agency" value="{{workspace.agency}}")

                      div.col-sm-6
                        div.form-group
                          label(for="floor") Floor:
                          input(type="text" ng-model="floor" class="form-control" id="floor" value="{{workspace.floor}}")

                    div.row
                      div.col-sm-6
                        div.form-group
                          label(for="room") Room:
                          input(type="text" ng-model="room" class="form-control" id="room" value="{{workspace.room}}")

                      div.col-sm-6
                        div.form-group
                          label(for="size") Size:
                          input(type="text" ng-model="size" class="form-control" id="size" value="{{workspace.size}}")

                    div.row
                      div.col-sm-3
                        div.form-group
                          label(for="amRate") AM Rate:
                          input(type="number" ng-model="amPrice" class="form-control" id="amRate" value="{{workspace.amRate}}" step="0.01" size="6")

                      div.col-sm-3
                        div.form-group
                          label(for="pmRate") PM Rate:
                          input(type="number" ng-model="pmPrice" class="form-control" id="pmRate" value="{{workspace.pmRate}}" step="0.01" size="6")

                    div.row
                      div.col-sm-6
                        label Inventory
                        ul(class="list-group" id="inventory")
                          li(class="list-group-item" ng-repeat="item in workspace.inventory") {{item}}
                            button(type="button" ng-click="removeItem(item)" class="btn-lg close pull-right" aria-label="Close")
                              span(aria-hidden="false")&times;
                        div.input-group
                          input(type="text" class="form-control" id="newItem" placeholder="New Item" ng-model="item")
                          span.input-group-btn
                            button(type="button" class="btn btn-default" ng-click="addItem(item)") Add

                div.modal-footer
                  button(ng-click="submitEdits()" type="button" class="btn btn-primary") Submit
                  button(ng-click="cancel()" type="button" class="btn btn-danger") Cancel

              script(type="text/ng-template" id="partials/deleteWorkspace")
                div.modal-header
                  h3.modal-title Are you sure?
                    button(type="button" ng-click="cancel()" class="btn-lg close pull-right" aria-label="Close")
                      span(aria-hidden="false")&times;
                div.modal-body
                  p Really delete {{ workspace._id }} ?
                div.modal-footer
                  button(ng-click="delete()" type="button" class="btn btn-danger") Delete
                  button(ng-click="cancel()" type="button" class="btn btn-warning") Cancel